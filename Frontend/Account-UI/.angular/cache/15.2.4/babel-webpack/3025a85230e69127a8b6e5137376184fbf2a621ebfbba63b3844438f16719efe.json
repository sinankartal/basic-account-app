{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/service/user-service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"src/service/account-service\";\nimport * as i4 from \"@angular/common\";\nimport * as i5 from \"@angular/forms\";\nfunction AccountListComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Loading...\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccountListComponent_div_4_table_1_ng_container_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementContainerStart(0);\n    i0.ɵɵelementStart(1, \"tr\", 12)(2, \"td\", 13);\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"td\", 13);\n    i0.ɵɵtext(5);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"td\", 13)(7, \"a\", 14);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_div_4_table_1_ng_container_10_Template_a_click_7_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const account_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext(3);\n      return i0.ɵɵresetView(ctx_r10.showTransactions(account_r9.accountNumber));\n    });\n    i0.ɵɵtext(8, \"View Accounts\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementContainerEnd();\n  }\n  if (rf & 2) {\n    const account_r9 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate1(\" \", account_r9.accountNumber, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(account_r9.balance);\n  }\n}\nfunction AccountListComponent_div_4_table_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"table\", 9)(1, \"thead\")(2, \"tr\")(3, \"th\", 10);\n    i0.ɵɵtext(4, \"Account Number\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"th\", 10);\n    i0.ɵɵtext(6, \"Balance\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 10);\n    i0.ɵɵtext(8, \"Actions\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(9, \"tbody\");\n    i0.ɵɵtemplate(10, AccountListComponent_div_4_table_1_ng_container_10_Template, 9, 2, \"ng-container\", 11);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(10);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.userAccountInfo == null ? null : ctx_r7.userAccountInfo.accounts);\n  }\n}\nfunction AccountListComponent_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, AccountListComponent_div_4_table_1_Template, 11, 1, \"table\", 8);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    const _r2 = i0.ɵɵreference(6);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r1.userAccountInfo && ctx_r1.userAccountInfo.accounts && ctx_r1.userAccountInfo.accounts.length > 0)(\"ngIfElse\", _r2);\n  }\n}\nfunction AccountListComponent_ng_template_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 15);\n    i0.ɵɵtext(1, \"Selected user has no accounts.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccountListComponent_button_8_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_button_8_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r12 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r12.createNewAccountSelected = !ctx_r12.createNewAccountSelected);\n    });\n    i0.ɵɵtext(1, \" Create New Account \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccountListComponent_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r15 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"input\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function AccountListComponent_div_9_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r14 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r14.newAccountInitialAmount = $event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(2, \"button\", 16);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_div_9_Template_button_click_2_listener() {\n      i0.ɵɵrestoreView(_r15);\n      const ctx_r16 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r16.createNewAccount());\n    });\n    i0.ɵɵtext(3, \" Create \");\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r5.newAccountInitialAmount);\n  }\n}\nfunction AccountListComponent_div_10_div_9_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"p\")(2, \"strong\");\n    i0.ɵɵtext(3, \"Amount:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"p\")(6, \"strong\");\n    i0.ɵɵtext(7, \"Date:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵpipe(9, \"date\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(10, \"hr\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const transaction_r22 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", transaction_r22.amount, \"\");\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\" \", i0.ɵɵpipeBind2(9, 2, transaction_r22.date, \"dd/MM/yyyy HH:mm:ss\"), \" \");\n  }\n}\nfunction AccountListComponent_div_10_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, AccountListComponent_div_10_div_9_div_1_Template, 11, 5, \"div\", 11);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r17 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r17.selectedAccountTransaction);\n  }\n}\nfunction AccountListComponent_div_10_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"input\", 18);\n    i0.ɵɵlistener(\"ngModelChange\", function AccountListComponent_div_10_div_10_Template_input_ngModelChange_1_listener($event) {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r23.newAccountInitialAmount = $event);\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r18 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngModel\", ctx_r18.newAccountInitialAmount);\n  }\n}\nfunction AccountListComponent_div_10_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r26 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_div_10_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r26);\n      const ctx_r25 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r25.addTransactionSelected = true);\n    });\n    i0.ɵɵtext(1, \" Add Money \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccountListComponent_div_10_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r28 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_div_10_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r28);\n      const ctx_r27 = i0.ɵɵnextContext(2);\n      return i0.ɵɵresetView(ctx_r27.addMoney());\n    });\n    i0.ɵɵtext(1, \" Approve \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AccountListComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r30 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 19)(1, \"div\", 20)(2, \"h2\", 21);\n    i0.ɵɵtext(3, \"Transaction Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 22)(5, \"p\")(6, \"strong\");\n    i0.ɵɵtext(7, \"Account Number:\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(9, AccountListComponent_div_10_div_9_Template, 2, 1, \"div\", 2);\n    i0.ɵɵtemplate(10, AccountListComponent_div_10_div_10_Template, 2, 1, \"div\", 2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"div\", 23)(12, \"button\", 24);\n    i0.ɵɵlistener(\"click\", function AccountListComponent_div_10_Template_button_click_12_listener() {\n      i0.ɵɵrestoreView(_r30);\n      const ctx_r29 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r29.closeDialog());\n    });\n    i0.ɵɵtext(13, \"Close\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(14, AccountListComponent_div_10_button_14_Template, 2, 0, \"button\", 25);\n    i0.ɵɵtemplate(15, AccountListComponent_div_10_button_15_Template, 2, 0, \"button\", 26);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r6 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(8);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r6.selectedAccountNumber, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r6.addTransactionSelected);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.addTransactionSelected);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r6.addTransactionSelected);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r6.addTransactionSelected);\n  }\n}\nexport class AccountListComponent {\n  constructor(userService, cdr, activeRoute, accountService) {\n    this.userService = userService;\n    this.cdr = cdr;\n    this.activeRoute = activeRoute;\n    this.accountService = accountService;\n    this.createNewAccountSelected = false;\n    this.newAccountInitialAmount = 0;\n    this.showDialog = false;\n    this.selectedAccountNumber = '';\n    this.loading = false;\n    this.addTransactionSelected = false;\n  }\n  ngOnInit() {\n    this.activeRoute.params.subscribe(params => {\n      this.userId = params['id'];\n      this.getUsers();\n      this.viewAccounts();\n    });\n  }\n  viewAccounts() {\n    this.loading = true;\n    this.userService.getUserAccounts(this.userId).subscribe(res => {\n      this.userAccountInfo = res;\n      this.loading = false;\n      this.cdr.markForCheck();\n    });\n  }\n  getUsers() {\n    this.loading = true;\n    this.userService.getUserList().subscribe(res => {\n      this.users = res;\n      this.selecteduser = this.users.find(u => u.id === this.userId);\n      this.loading = false;\n      this.cdr.markForCheck();\n    });\n  }\n  createNewAccount() {\n    this.loading = true;\n    this.accountService.create(this.userId, this.newAccountInitialAmount).subscribe(res => {\n      this.viewAccounts();\n      this.createNewAccountSelected = false;\n      this.loading = false;\n      this.cdr.markForCheck();\n    });\n  }\n  showTransactions(accountNumber) {\n    this.selectedAccountTransaction = this.userAccountInfo?.accounts.find(s => s.accountNumber === accountNumber)?.transactions;\n    this.selectedAccountTransaction = this.selectedAccountTransaction?.reverse();\n    this.selectedAccountNumber = accountNumber;\n    this.showDialog = true;\n    this.cdr.markForCheck();\n  }\n  closeDialog() {\n    this.showDialog = false;\n    this.cdr.markForCheck();\n  }\n  addMoney() {\n    const account = this.userAccountInfo?.accounts.find(s => s.accountNumber === this.selectedAccountNumber);\n    if (account) this.accountService.addTransaction(account?.id, this.newAccountInitialAmount).subscribe(() => {\n      this.addTransactionSelected = false;\n      this.showDialog = false;\n      this.viewAccounts();\n      this.cdr.markForCheck();\n    });\n  }\n}\nAccountListComponent.ɵfac = function AccountListComponent_Factory(t) {\n  return new (t || AccountListComponent)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i0.ChangeDetectorRef), i0.ɵɵdirectiveInject(i2.ActivatedRoute), i0.ɵɵdirectiveInject(i3.AccountService));\n};\nAccountListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: AccountListComponent,\n  selectors: [[\"app-account-list\"]],\n  decls: 11,\n  vars: 6,\n  consts: [[1, \"account-list\"], [1, \"account-list__heading\"], [4, \"ngIf\"], [\"noAccount\", \"\"], [1, \"account-list__create-container\"], [\"class\", \"account-list__create-button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"account-list__create-form\", 4, \"ngIf\"], [\"class\", \"overlay\", 4, \"ngIf\"], [\"class\", \"account-list__table\", 4, \"ngIf\", \"ngIfElse\"], [1, \"account-list__table\"], [1, \"account-list__table-header\"], [4, \"ngFor\", \"ngForOf\"], [1, \"account-list__table-row\"], [1, \"account-list__table-cell\"], [1, \"account-list__action-link\", 2, \"cursor\", \"pointer\", 3, \"click\"], [1, \"account-list__no-account\"], [1, \"account-list__create-button\", 3, \"click\"], [1, \"account-list__create-form\"], [\"type\", \"number\", \"placeholder\", \"Initial Amount\", 1, \"account-list__create-input\", 3, \"ngModel\", \"ngModelChange\"], [1, \"overlay\"], [1, \"dialog\"], [1, \"dialog__title\"], [1, \"dialog__content\"], [1, \"dialog__actions\"], [1, \"dialog__button\", 3, \"click\"], [\"class\", \"dialog__button\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"dialog__button__addMoney\", 3, \"click\", 4, \"ngIf\"], [1, \"dialog__button__addMoney\", 3, \"click\"]],\n  template: function AccountListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\", 1);\n      i0.ɵɵtext(2);\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(3, AccountListComponent_div_3_Template, 2, 0, \"div\", 2);\n      i0.ɵɵtemplate(4, AccountListComponent_div_4_Template, 2, 2, \"div\", 2);\n      i0.ɵɵtemplate(5, AccountListComponent_ng_template_5_Template, 2, 0, \"ng-template\", null, 3, i0.ɵɵtemplateRefExtractor);\n      i0.ɵɵelementStart(7, \"div\", 4);\n      i0.ɵɵtemplate(8, AccountListComponent_button_8_Template, 2, 0, \"button\", 5);\n      i0.ɵɵtemplate(9, AccountListComponent_div_9_Template, 4, 1, \"div\", 6);\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(10, AccountListComponent_div_10_Template, 16, 5, \"div\", 7);\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate1(\"\", ctx.selecteduser == null ? null : ctx.selecteduser.name, \" Account List\");\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", !ctx.loading);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngIf\", !ctx.createNewAccountSelected);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.createNewAccountSelected && !ctx.loading);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.showDialog);\n    }\n  },\n  dependencies: [i4.NgForOf, i4.NgIf, i5.DefaultValueAccessor, i5.NumberValueAccessor, i5.NgControlStatus, i5.NgModel, i4.DatePipe],\n  styles: [\".account-list[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  margin: 1rem 0;\\n}\\n\\n.account-list__heading[_ngcontent-%COMP%] {\\n  font-size: 2rem;\\n  margin-bottom: 2rem;\\n  color: #333;\\n}\\n\\n.account-list__table[_ngcontent-%COMP%] {\\n  border-collapse: collapse;\\n  width: 100%;\\n  max-width: 800px;\\n  border: 1px solid #ddd;\\n  margin-bottom: 2rem;\\n}\\n\\n.account-list__table-header[_ngcontent-%COMP%] {\\n  background-color: #ddd;\\n  color: #333;\\n  padding: 1rem;\\n  text-align: left;\\n  font-weight: bold;\\n}\\n\\n.account-list__table-row[_ngcontent-%COMP%]:nth-child(even) {\\n  background-color: #f2f2f2;\\n}\\n\\n.account-list__table-cell[_ngcontent-%COMP%] {\\n  padding: 1rem;\\n  border-bottom: 1px solid #ddd;\\n}\\n\\n.account-list__action-link[_ngcontent-%COMP%] {\\n  color: #0077cc;\\n  text-decoration: none;\\n}\\n\\n.account-list__action-link[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\n.account-list__no-account[_ngcontent-%COMP%] {\\n  color: #333;\\n  font-size: 1.2rem;\\n}\\n\\n.account-list__create-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n}\\n\\n.account-list__create-button[_ngcontent-%COMP%] {\\n  background-color: #0077cc;\\n  color: #fff;\\n  padding: 0.5rem 1rem;\\n  border: none;\\n  border-radius: 0.25rem;\\n  margin-bottom: 1rem;\\n  cursor: pointer;\\n}\\n\\n.account-list__create-button[_ngcontent-%COMP%]:hover {\\n  background-color: #005fa3;\\n}\\n\\n.account-list__create-form[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n}\\n\\n.account-list__create-input[_ngcontent-%COMP%] {\\n  padding: 0.5;\\n  margin: 12px;\\n}\\n\\ndialog__button__addMoney[_ngcontent-%COMP%] {\\n  float: right;\\n}\\n\\n.overlay[_ngcontent-%COMP%] {\\n  position: fixed;\\n  z-index: 1;\\n  top: 0;\\n  left: 0;\\n  width: 100%;\\n  height: 100%;\\n  background-color: rgba(0, 0, 0, 0.4);\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n\\n.dialog[_ngcontent-%COMP%] {\\n  background-color: white;\\n  padding: 20px;\\n  border-radius: 5px;\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);\\n}\\n\\n.dialog[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  margin-top: 0;\\n}\\n\\n.form[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 5px;\\n}\\n\\n.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  padding: 5px;\\n  margin-bottom: 10px;\\n  border-radius: 3px;\\n  border: 1px solid #ccc;\\n}\\n\\n.form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus {\\n  outline: none;\\n  border: 1px solid #0e79b2;\\n}\\n\\n.button-container[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: flex-end;\\n  margin-top: 20px;\\n}\\n\\n.cancel-button[_ngcontent-%COMP%] {\\n  margin-left: 10px;\\n  background-color: #e74c3c;\\n  color: white;\\n  border: none;\\n}\\n\\n.cancel-button[_ngcontent-%COMP%]:hover {\\n  background-color: #c0392b;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvYWNjb3VudC1saXN0L2FjY291bnQtbGlzdC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNFLGFBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtBQUNGOztBQUVBO0VBQ0UsZUFBQTtFQUNBLG1CQUFBO0VBQ0EsV0FBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7RUFDQSxXQUFBO0VBQ0EsZ0JBQUE7RUFDQSxzQkFBQTtFQUNBLG1CQUFBO0FBQ0Y7O0FBRUE7RUFDRSxzQkFBQTtFQUNBLFdBQUE7RUFDQSxhQUFBO0VBQ0EsZ0JBQUE7RUFDQSxpQkFBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7QUFDRjs7QUFFQTtFQUNFLGFBQUE7RUFDQSw2QkFBQTtBQUNGOztBQUVBO0VBQ0UsY0FBQTtFQUNBLHFCQUFBO0FBQ0Y7O0FBRUE7RUFDRSwwQkFBQTtBQUNGOztBQUVBO0VBQ0UsV0FBQTtFQUNBLGlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtBQUNGOztBQUVBO0VBQ0UseUJBQUE7RUFDQSxXQUFBO0VBQ0Esb0JBQUE7RUFDQSxZQUFBO0VBQ0Esc0JBQUE7RUFDQSxtQkFBQTtFQUNBLGVBQUE7QUFDRjs7QUFFQTtFQUNFLHlCQUFBO0FBQ0Y7O0FBRUE7RUFDRSxhQUFBO0VBQ0Esc0JBQUE7RUFDQSx1QkFBQTtBQUNGOztBQUVBO0VBQ0UsWUFBQTtFQUNBLFlBQUE7QUFDRjs7QUFHQTtFQUNFLFlBQUE7QUFBRjs7QUFHQTtFQUNFLGVBQUE7RUFDQSxVQUFBO0VBQ0EsTUFBQTtFQUNBLE9BQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLG9DQUFBO0VBQ0EsYUFBQTtFQUNBLHVCQUFBO0VBQ0EsbUJBQUE7QUFBRjs7QUFHQTtFQUNFLHVCQUFBO0VBQ0EsYUFBQTtFQUNBLGtCQUFBO0VBQ0EsdUNBQUE7QUFBRjs7QUFHQTtFQUNFLGFBQUE7QUFBRjs7QUFHQTtFQUNFLGNBQUE7RUFDQSxrQkFBQTtBQUFGOztBQUdBO0VBQ0UsWUFBQTtFQUNBLG1CQUFBO0VBQ0Esa0JBQUE7RUFDQSxzQkFBQTtBQUFGOztBQUdBO0VBQ0UsYUFBQTtFQUNBLHlCQUFBO0FBQUY7O0FBR0E7RUFDRSxhQUFBO0VBQ0EseUJBQUE7RUFDQSxnQkFBQTtBQUFGOztBQUdBO0VBQ0UsaUJBQUE7RUFDQSx5QkFBQTtFQUNBLFlBQUE7RUFDQSxZQUFBO0FBQUY7O0FBR0E7RUFDRSx5QkFBQTtBQUFGIiwic291cmNlc0NvbnRlbnQiOlsiLmFjY291bnQtbGlzdCB7XG4gIGRpc3BsYXk6IGZsZXg7XG4gIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gIG1hcmdpbjogMXJlbSAwO1xufVxuXG4uYWNjb3VudC1saXN0X19oZWFkaW5nIHtcbiAgZm9udC1zaXplOiAycmVtO1xuICBtYXJnaW4tYm90dG9tOiAycmVtO1xuICBjb2xvcjogIzMzMztcbn1cblxuLmFjY291bnQtbGlzdF9fdGFibGUge1xuICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlO1xuICB3aWR0aDogMTAwJTtcbiAgbWF4LXdpZHRoOiA4MDBweDtcbiAgYm9yZGVyOiAxcHggc29saWQgI2RkZDtcbiAgbWFyZ2luLWJvdHRvbTogMnJlbTtcbn1cblxuLmFjY291bnQtbGlzdF9fdGFibGUtaGVhZGVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2RkZDtcbiAgY29sb3I6ICMzMzM7XG4gIHBhZGRpbmc6IDFyZW07XG4gIHRleHQtYWxpZ246IGxlZnQ7XG4gIGZvbnQtd2VpZ2h0OiBib2xkO1xufVxuXG4uYWNjb3VudC1saXN0X190YWJsZS1yb3c6bnRoLWNoaWxkKGV2ZW4pIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogI2YyZjJmMjtcbn1cblxuLmFjY291bnQtbGlzdF9fdGFibGUtY2VsbCB7XG4gIHBhZGRpbmc6IDFyZW07XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZGRkO1xufVxuXG4uYWNjb3VudC1saXN0X19hY3Rpb24tbGluayB7XG4gIGNvbG9yOiAjMDA3N2NjO1xuICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XG59XG5cbi5hY2NvdW50LWxpc3RfX2FjdGlvbi1saW5rOmhvdmVyIHtcbiAgdGV4dC1kZWNvcmF0aW9uOiB1bmRlcmxpbmU7XG59XG5cbi5hY2NvdW50LWxpc3RfX25vLWFjY291bnQge1xuICBjb2xvcjogIzMzMztcbiAgZm9udC1zaXplOiAxLjJyZW07XG59XG5cbi5hY2NvdW50LWxpc3RfX2NyZWF0ZS1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xuICBhbGlnbi1pdGVtczogY2VudGVyO1xufVxuXG4uYWNjb3VudC1saXN0X19jcmVhdGUtYnV0dG9uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNzdjYztcbiAgY29sb3I6ICNmZmY7XG4gIHBhZGRpbmc6IDAuNXJlbSAxcmVtO1xuICBib3JkZXI6IG5vbmU7XG4gIGJvcmRlci1yYWRpdXM6IDAuMjVyZW07XG4gIG1hcmdpbi1ib3R0b206IDFyZW07XG4gIGN1cnNvcjogcG9pbnRlcjtcbn1cblxuLmFjY291bnQtbGlzdF9fY3JlYXRlLWJ1dHRvbjpob3ZlciB7XG4gIGJhY2tncm91bmQtY29sb3I6ICMwMDVmYTM7XG59XG5cbi5hY2NvdW50LWxpc3RfX2NyZWF0ZS1mb3JtIHtcbiAgZGlzcGxheTogZmxleDtcbiAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG59XG5cbi5hY2NvdW50LWxpc3RfX2NyZWF0ZS1pbnB1dCB7XG4gIHBhZGRpbmc6IDAuNTtcbiAgbWFyZ2luOjEycHg7XG59XG5cblxuZGlhbG9nX19idXR0b25fX2FkZE1vbmV5e1xuICBmbG9hdDogcmlnaHQ7XG59XG5cbi5vdmVybGF5IHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB6LWluZGV4OiAxO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMCwwLDAsMC40KTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG5cbi5kaWFsb2cge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiB3aGl0ZTtcbiAgcGFkZGluZzogMjBweDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBib3gtc2hhZG93OiAwIDAgMTBweCByZ2JhKDAsMCwwLDAuMyk7XG59XG5cbi5kaWFsb2cgaDIge1xuICBtYXJnaW4tdG9wOiAwO1xufVxuXG4uZm9ybSBsYWJlbCB7XG4gIGRpc3BsYXk6IGJsb2NrO1xuICBtYXJnaW4tYm90dG9tOiA1cHg7XG59XG5cbi5mb3JtIGlucHV0IHtcbiAgcGFkZGluZzogNXB4O1xuICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG59XG5cbi5mb3JtIGlucHV0OmZvY3VzIHtcbiAgb3V0bGluZTogbm9uZTtcbiAgYm9yZGVyOiAxcHggc29saWQgIzBlNzliMjtcbn1cblxuLmJ1dHRvbi1jb250YWluZXIge1xuICBkaXNwbGF5OiBmbGV4O1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xuICBtYXJnaW4tdG9wOiAyMHB4O1xufVxuXG4uY2FuY2VsLWJ1dHRvbiB7XG4gIG1hcmdpbi1sZWZ0OiAxMHB4O1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZTc0YzNjO1xuICBjb2xvcjogd2hpdGU7XG4gIGJvcmRlcjogbm9uZTtcbn1cblxuLmNhbmNlbC1idXR0b246aG92ZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjYzAzOTJiO1xufVxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","AccountListComponent","constructor","userService","cdr","activeRoute","accountService","ngOnInit","params","subscribe","userId","getUsers","viewAccounts","loading","getUserAccounts","res","userAccountInfo","markForCheck","getUserList","users","selecteduser","find","u","id","createNewAccount","create","newAccountInitialAmount","createNewAccountSelected","showTransactions","accountNumber","selectedAccountTransaction","accounts","s","transactions","reverse","selectedAccountNumber","showDialog","closeDialog","addMoney","account","addTransaction","addTransactionSelected","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/sinankartal/RiderProjects/basic-account-app/Frontend/Account-UI/src/app/account-list/account-list.component.html","/Users/sinankartal/RiderProjects/basic-account-app/Frontend/Account-UI/src/app/account-list/account-list.component.ts"],"sourcesContent":["<div class=\"account-list\">\n  <h2 class=\"account-list__heading\">{{ selecteduser?.name }} Account List</h2>\n  <div *ngIf=\"loading\">Loading...</div>\n  <div *ngIf=\"!loading\">\n    <table\n      class=\"account-list__table\"\n      *ngIf=\"\n        userAccountInfo &&\n          userAccountInfo.accounts &&\n          userAccountInfo.accounts.length > 0;\n        else noAccount\n      \"\n    >\n      <thead>\n        <tr>\n          <th class=\"account-list__table-header\">Account Number</th>\n          <th class=\"account-list__table-header\">Balance</th>\n          <th class=\"account-list__table-header\">Actions</th>\n        </tr>\n      </thead>\n      <tbody>\n        <ng-container *ngFor=\"let account of userAccountInfo?.accounts\">\n          <tr class=\"account-list__table-row\">\n            <td class=\"account-list__table-cell\">\n              {{ account.accountNumber }}\n            </td>\n            <td class=\"account-list__table-cell\">{{ account.balance }}</td>\n            <td class=\"account-list__table-cell\">\n              <a\n                style=\"cursor: pointer\"\n                class=\"account-list__action-link\"\n                (click)=\"showTransactions(account.accountNumber)\"\n                >View Accounts</a\n              >\n            </td>\n          </tr>\n        </ng-container>\n      </tbody>\n    </table>\n  </div>\n  <ng-template #noAccount>\n    <p class=\"account-list__no-account\">Selected user has no accounts.</p>\n  </ng-template>\n\n  <div class=\"account-list__create-container\">\n    <button\n      *ngIf=\"!createNewAccountSelected\"\n      (click)=\"createNewAccountSelected = !createNewAccountSelected\"\n      class=\"account-list__create-button\"\n    >\n      Create New Account\n    </button>\n    <div\n      *ngIf=\"createNewAccountSelected && !loading\"\n      class=\"account-list__create-form\"\n    >\n      <input\n        class=\"account-list__create-input\"\n        type=\"number\"\n        placeholder=\"Initial Amount\"\n        [(ngModel)]=\"newAccountInitialAmount\"\n      />\n      <button (click)=\"createNewAccount()\" class=\"account-list__create-button\">\n        Create\n      </button>\n    </div>\n  </div>\n</div>\n\n<div class=\"overlay\" *ngIf=\"showDialog\">\n  <div class=\"dialog\">\n    <h2 class=\"dialog__title\">Transaction Details</h2>\n    <div class=\"dialog__content\">\n      <p><strong>Account Number:</strong> {{ selectedAccountNumber }}</p>\n      <div *ngIf=\"!addTransactionSelected\">\n        <div *ngFor=\"let transaction of selectedAccountTransaction\">\n          <p><strong>Amount:</strong> {{ transaction.amount }}</p>\n          <p>\n            <strong>Date:</strong>\n            {{ transaction.date | date : \"dd/MM/yyyy HH:mm:ss\" }}\n          </p>\n          <hr />\n        </div>\n      </div>\n      <div *ngIf=\"addTransactionSelected\">\n        <input\n          class=\"account-list__create-input\"\n          type=\"number\"\n          placeholder=\"Initial Amount\"\n          [(ngModel)]=\"newAccountInitialAmount\"\n        />\n      </div>\n    </div>\n    <div class=\"dialog__actions\">\n      <button class=\"dialog__button\" (click)=\"closeDialog()\">Close</button>\n      <button\n        class=\"dialog__button\"\n        *ngIf=\"!addTransactionSelected\"\n        (click)=\"addTransactionSelected = true\"\n      >\n        Add Money\n      </button>\n      <button\n        class=\"dialog__button__addMoney\"\n        *ngIf=\"addTransactionSelected\"\n        (click)=\"addMoney()\"\n      >\n        Approve\n      </button>\n    </div>\n  </div>\n</div>\n","import { ChangeDetectorRef, Component, OnInit } from '@angular/core';\nimport { UserService } from 'src/service/user-service';\nimport { Account, Transaction, User, UserAccountsDTO } from 'src/model/models';\nimport { ActivatedRoute } from '@angular/router';\nimport { AccountService } from 'src/service/account-service';\n\n@Component({\n  selector: 'app-account-list',\n  templateUrl: './account-list.component.html',\n  styleUrls: ['./account-list.component.scss'],\n})\nexport class AccountListComponent implements OnInit {\n  userAccountInfo: UserAccountsDTO | undefined;\n  userId!: string;\n  users: User[] | undefined;\n  selecteduser: User | undefined;\n  createNewAccountSelected = false;\n  newAccountInitialAmount = 0;\n  showDialog = false;\n  selectedAccountNumber = '';\n  selectedAccountTransaction: Transaction[] | undefined;\n  loading = false;\n  addTransactionSelected = false;\n  constructor(\n    private userService: UserService,\n    private cdr: ChangeDetectorRef,\n    private activeRoute: ActivatedRoute,\n    private accountService: AccountService\n  ) {}\n\n  ngOnInit(): void {\n    this.activeRoute.params.subscribe((params) => {\n      this.userId = params['id'];\n      this.getUsers();\n      this.viewAccounts();\n    });\n  }\n\n  viewAccounts() {\n    this.loading = true;\n    this.userService.getUserAccounts(this.userId).subscribe((res) => {\n      this.userAccountInfo = res;\n      this.loading = false;\n      this.cdr.markForCheck();\n    });\n  }\n\n  getUsers() {\n    this.loading = true;\n    this.userService.getUserList().subscribe((res) => {\n      this.users = res;\n      this.selecteduser = this.users.find((u) => u.id === this.userId);\n      this.loading = false;\n      this.cdr.markForCheck();\n    });\n  }\n\n  createNewAccount() {\n    this.loading = true;\n    this.accountService\n      .create(this.userId, this.newAccountInitialAmount)\n      .subscribe((res) => {\n        this.viewAccounts();\n        this.createNewAccountSelected = false;\n        this.loading = false;\n        this.cdr.markForCheck();\n      });\n  }\n\n  showTransactions(accountNumber: string) {\n    this.selectedAccountTransaction = this.userAccountInfo?.accounts.find(\n      (s) => s.accountNumber === accountNumber\n    )?.transactions;\n    this.selectedAccountTransaction = this.selectedAccountTransaction?.reverse();\n\n    this.selectedAccountNumber = accountNumber;\n    this.showDialog = true;\n    this.cdr.markForCheck();\n  }\n\n  closeDialog() {\n    this.showDialog = false;\n    this.cdr.markForCheck();\n  }\n\n  addMoney() {\n    const account: Account | undefined = this.userAccountInfo?.accounts.find(\n      (s) => s.accountNumber === this.selectedAccountNumber\n    );\n    if (account)\n      this.accountService\n        .addTransaction(account?.id, this.newAccountInitialAmount)\n        .subscribe(() => {\n          this.addTransactionSelected = false;\n          this.showDialog = false;\n          this.viewAccounts();\n          this.cdr.markForCheck();\n        });\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}